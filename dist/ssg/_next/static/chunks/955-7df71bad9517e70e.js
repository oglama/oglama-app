/*!
 * @architect Mark Jivko <mark@oglama.com>
 * @copyright Â© 2024-2025 Oglama (https://oglama.com)
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[955],{40876:function(e,n,t){var r=t(47568),i=t(26042),o=t(69396),a=t(29815),l=t(97582),c=t(85893),s=t(76530),u=t(77058),d=t(5097),f=t(67294),p=t(2734),h=t(15861),m=t(11057),v=t(80822);n.Z=function(e){var n=e.handleFiles,t=void 0===n?function(){}:n,x=e.extensions,g=void 0===x?[]:x,Z=e.multiple,b=void 0!==Z&&Z,j=e.minSize,y=void 0===j?null:j,C=e.maxSize,w=void 0===C?null:C,S=e.pop,k=void 0!==S&&S,M=e.maxCount,I=void 0===M?null:M,R=e.withPaths,z=void 0!==R&&R,P=(0,u.$)().i18n,_=(0,p.Z)(),A=(0,f.useRef)(null),N=Array.isArray(g)&&g.length?g.map((function(e){return".".concat(e.trim())})).join(", "):null,E=function(e){var n=[],r=!0,i=!1,o=void 0;try{for(var l,c=(0,a.Z)(e)[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value;if(Number.isInteger(y)&&u.size<1048576*y)d.A.error("".concat(u.name,": ").concat(P.t("file is smaller than {{minSize}}MB",{minSize:y})),{duration:5e3,ariaProps:{role:"alert"}});else if(Number.isInteger(w)&&u.size>1048576*w)d.A.error("".concat(u.name,": ").concat(P.t("file is larger than {{maxSize}}MB",{maxSize:w})),{duration:5e3,ariaProps:{role:"alert"}});else if(Array.isArray(g)&&g.length&&!g.includes((0,s.RT)(u.name)))d.A.error("".concat(u.name,": ").concat(P.t("file extension not allowed")),{duration:5e3,ariaProps:{role:"alert"}});else if(n.push(u),Number.isInteger(I)&&n.length>=I)break}}catch(f){i=!0,o=f}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}"function"===typeof t&&t(n),null!==A.current&&(A.current.value=null)};return(0,c.jsxs)(m.Z,{sx:{textTransform:"none",userSelect:"none",width:"100%",height:150,border:"1px solid",borderColor:"light"===_.palette.mode?"rgba(50,50,50,0.25)":"rgba(255,255,255,0.25)",borderRadius:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",p:2,cursor:"pointer",transition:"border-color 200ms","&:hover":{borderColor:_.palette.primary.main}},className:k?"pop":null,onClick:function(){var e=(0,r.Z)((function(e){var n,t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return e.stopPropagation(),z?[4,null===(t=window.sdk)||void 0===t?void 0:t.ipc.main.showOpenDialog(Array.isArray(g)&&g.length?g.map((function(e){return"*.".concat(e)})).join(", "):b?P.t("Select multiple files"):P.t("Select a single file"),g,b)]:[3,2];case 1:return E.apply(void 0,[r.sent()]),[2];case 2:return null===(n=A.current)||void 0===n||n.click(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),children:[(0,c.jsx)("input",(0,o.Z)((0,i.Z)({hidden:!0,type:"file",ref:A},b?{multiple:!0}:{},N?{accept:N}:{}),{onChange:function(){var e=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(n){return[2,E(e.target.files)]}))}));return function(n){return e.apply(this,arguments)}}()})),(0,c.jsx)(h.Z,{variant:"body1",sx:{mb:2},children:b?P.t("Select multiple files"):P.t("Select a single file")}),N?(0,c.jsx)(h.Z,{variant:"caption",children:P.t("Accepted file extensions: {{accept}}",{accept:N})}):null,Number.isInteger(y)||Number.isInteger(w)?(0,c.jsxs)(v.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,c.jsx)(h.Z,{variant:"caption",sx:{px:1},children:Number.isInteger(y)?P.t("Minimum file size: {{size}}MB",{size:y.toLocaleString("en-US")}):null}),(0,c.jsx)(h.Z,{variant:"caption",sx:{px:1},children:Number.isInteger(w)?P.t("Maximum file size: {{size}}MB",{size:w.toLocaleString("en-US")}):null})]}):null]})}},63203:function(e,n,t){var r,i=t(26042),o=t(85893),a=t(90948),l=t(81458),c=t(80822),s=(0,a.ZP)(c.Z)((function(e){var n,t=e.theme,i=e.color;return{backgroundColor:t.palette.background.paper,position:"relative",overflow:"hidden","&:before":{content:'""',position:"absolute",top:0,left:0,height:"100%",width:"30%",backgroundColor:null!==(r=null===(n=t.palette[i])||void 0===n?void 0:n.main)&&void 0!==r?r:t.palette.primary.main,animation:"progress 1.5s infinite",willChange:"transform"},"@keyframes progress":{"0%":{transform:"translateX(-100%) scaleX(1)"},"70%":{transform:"translateX(200%) scaleX(1.5)"},"100%":{transform:"translateX(350%) scaleX(1)"}}}}));n.Z=function(e){var n=e.color,t=void 0===n?"primary":n,r=e.variant,a=void 0===r?"determinate":r,c=e.value,u=void 0===c?0:c,d=e.sx,f=void 0===d?{}:d;return"object"===typeof f&&null!==f||(f={}),f=(0,i.Z)({width:"100%",height:"4px"},f),["determinate","buffer"].includes(a)?(0,o.jsx)(l.Z,{sx:f,color:t,variant:a,value:u}):(0,o.jsx)(s,{sx:f,color:t})}},42274:function(e,n,t){var r=t(26042),i=t(85893),o=t(67294),a=t(89609);n.Z=function(e){var n,t=function(e){var n=y>u&&e===y-1?u%1*100:100,t=[];if(f>1)for(var r=1;r<=f;r++){var a=n-100/f*(r-1);t.push(a<100/f?a>0?a:0:100/f)}else t.push(n);j.push((0,i.jsx)(o.Fragment,{children:t.map((function(n,t){var r=0===h?"".concat(n,"%"):"calc(".concat(n,"% - ").concat(h,"px)"),o=0===h?null:"".concat(h,"px"),a={width:r,marginLeft:o,marginTop:o};return g&&(a.borderRadius="50%"),null!==b&&(a.height=b),(0,i.jsx)("div",{className:"skeleton",style:a,children:"\u200c"},"".concat(e,"-").concat(t))}))},e))},l=e.className,c=e.sx,s=e.count,u=void 0===s?1:s,d=e.columns,f=void 0===d?1:d,p=e.spacing,h=void 0===p?20:p,m=e.justify,v=void 0===m?"start":m,x=e.rounded,g=void 0!==x&&x,Z=e.rowHeight,b=void 0===Z?null:Z,j=[],y=Math.ceil(u);f=null!==(n=Math.abs(parseInt(f,10)))&&void 0!==n?n:1,h=Math.abs(parseInt(h,10)),v=-1===["start","center","end","space-between"].indexOf(v)?"start":v;for(var C=0;C<y;C++)t(C);var w=0===h?null:"".concat(h,"px");return(0,i.jsx)(a.Z,{sx:(0,r.Z)({},c),className:l,children:(0,i.jsx)("div",{"aria-live":"polite","aria-busy":!0,style:{paddingRight:w,paddingBottom:w,display:"inline-flex",flexFlow:"wrap",width:"100%",height:"100%",top:"-3px",position:"relative",zIndex:0,justifyContent:v},children:j})})}},84323:function(e,n,t){var r=t(26042),i=t(69396),o=t(828),a=t(29815),l=t(85893),c=t(67294),s=t(51474),u=t(2734),d=t(34386),f=t(87918),p=t(80822),h=t(48859);n.Z=function(e){var n=e.items,t=void 0===n?[]:n,m=e.setItems,v=void 0===m?function(){}:m,x=e.onDelete,g=void 0===x?null:x,Z=e.sx,b=void 0===Z?{}:Z,j=e.tooltip,y=void 0!==j&&j,C=e.tooltipEmpty,w=void 0===C?null:C,S=e.tooltipPrefix,k=void 0===S?null:S,M=e.maxContent,I=void 0!==M&&M,R=e.numeric,z=void 0!==R&&R,P=e.highlight,_=void 0!==P&&P,A=(0,c.useRef)(null),N=(0,c.useRef)(t),E=(0,c.useRef)(null),B=(0,u.Z)();return t=(Array.isArray(t)?t:[]).map((function(e){return z?parseInt(e,10):"".concat(e||"")})),"object"===typeof b&&null!==b||(b={}),(0,c.useEffect)((function(){E.current&&Array.isArray(t)&&(N.current=t,null!==A.current&&A.current.destroy(),A.current=s.ZP.create(E.current,{animation:150,onUpdate:function(e){var n=(0,a.Z)(N.current),t=(0,o.Z)(n.splice(e.oldIndex,1),1)[0];n.splice(e.newIndex,0,t),N.current=n,v(n)}}))}),[t]),(0,l.jsx)(p.Z,{ref:E,sx:(0,i.Z)((0,r.Z)({},I?{width:"max-content"}:{width:"100%",flexWrap:"wrap"}),{borderRadius:1,padding:2,display:"flex",margin:0,"& .MuiChip-root:last-child":{marginRight:"0 !important"}}),children:t.map((function(e,n){return(0,l.jsx)(d.Z,{title:y&&(null===e||void 0===e?void 0:e.length)?"".concat(k?"".concat(k,": "):"").concat(e):null!==w&&void 0!==w?w:null,placement:"top",children:(0,l.jsx)(f.Z,{variant:e.length?"contained":"outlined",icon:(0,l.jsx)(h.Z,{}),color:_&&(null===e||void 0===e?void 0:e.length)?"primary":"default",sx:(0,r.Z)({userSelect:"none",mr:2,mb:I?0:2,cursor:"grab",borderRadius:1},(null===e||void 0===e?void 0:e.length)?{}:{background:B.palette.divider},b),label:e,onDelete:"function"===typeof g?function(){return g(e)}:null})},"".concat(e,"-").concat(n))}))})}},60848:function(e,n,t){var r=t(47568),i=t(97582),o=t(85893),a=t(47533),l=t(87536),c=t(67294),s=t(77058),u=t(74231),d=t(56815),f=t(87109),p=t(31425),h=t(6514),m=t(37645),v=t(94054),x=t(15861),g=t(93946),Z=t(50135),b=t(11057),j=t(50657),y=t(46901),C=t(80822),w=t(74496),S=t(43985),k=t(25577),M=t(48136),I=t(42274);n.Z=function(e){var n=e.isOpen,t=void 0!==n&&n,R=e.onOpen,z=void 0===R?function(){}:R,P=e.onClose,_=void 0===P?function(){}:P,A=e.onCreate,N=void 0===A?function(){}:A,E=e.title,B=e.description,L=(0,s.$)().i18n,X=(0,c.useRef)(null),D=(0,c.useState)(!1),W=D[0],$=D[1],O=(0,c.useState)(!1),F=O[0],K=O[1],T={name:u.Z_().required(L.t("Module name is required")).min(3,(function(){return L.t("Must be at least {{n}} characters long",{n:3})})).max(64,(function(){return L.t("Must be at most {{n}} characters long",{n:64})})),description:u.Z_().max(1024,(function(){return L.t("Must be at most {{n}} characters long",{n:1024})}))},q=(0,l.cI)({defaultValues:{name:"",description:""},mode:"onChange",resolver:(0,a.X)(u.Ry().shape(T))}),U=q.reset,Q=q.control,V=q.handleSubmit,H=q.formState.errors,G=function(){var e=(0,r.Z)((function(e){var n,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return n=e.name,t=e.description,K(!0),[4,N(n,t)];case 1:return r.sent(),K(!1),_(),[2]}}))}));return function(n){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){t&&"function"===typeof z&&z()}),[t]);var J=function(){t&&"function"===typeof _&&_(),U()},Y=function(){X.current&&X.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))};return t?(0,o.jsxs)(j.Z,{open:!0,onClose:F?function(){}:J,sx:{"& .MuiPaper-root":{width:"100%",maxWidth:650,p:2}},children:[F?null:(0,o.jsxs)(m.Z,{children:[null!==E&&void 0!==E?E:L.t("Create a new module"),B?(0,o.jsx)(g.Z,{"aria-label":L.t("More information"),sx:{ml:2},color:"default",onClick:function(){return $(!W)},size:"large",children:W?(0,o.jsx)(k.Z,{}):(0,o.jsx)(w.Z,{})}):null]}),(0,o.jsxs)(h.Z,{children:[!F&&B&&W?(0,o.jsx)(y.Z,{severity:"info",sx:{mb:6},children:(0,o.jsx)(x.Z,{color:"inherit",variant:"body2",children:B})}):null,F?(0,o.jsx)(C.Z,{sx:{mt:6},children:(0,o.jsx)(I.Z,{})}):(0,o.jsxs)("form",{onSubmit:V(G),ref:X,children:[(0,o.jsxs)(v.Z,{fullWidth:!0,sx:{my:3},error:!!H.name,children:[(0,o.jsx)(l.Qr,{name:"name",control:Q,render:function(e){var n=e.field,t=n.value,r=n.onChange;return(0,o.jsx)(Z.Z,{disabled:F,autoFocus:!0,required:!0,value:t,onChange:r,onKeyDown:function(e){return"Enter"===e.key&&Y()},spellCheck:!1,autoComplete:"off",inputProps:{minLength:3,maxLength:64,tabIndex:1},InputProps:{startAdornment:(0,o.jsx)(f.Z,{position:"start",sx:{mr:-2},children:(0,o.jsx)(S.Z,{fontSize:"small"})})},label:L.t("Module name"),placeholder:L.t("Module name"),error:Boolean(H.name)})}}),H.name&&(0,o.jsx)(d.Z,{sx:{color:"error.main"},children:H.name.message})]}),(0,o.jsxs)(v.Z,{fullWidth:!0,sx:{my:3},error:!!H.description,children:[(0,o.jsx)(l.Qr,{name:"description",control:Q,render:function(e){var n=e.field,t=n.value,r=n.onChange;return(0,o.jsx)(Z.Z,{disabled:F,multiline:!0,rows:2,value:t,onChange:r,onKeyDown:function(e){return"Enter"===e.key&&e.ctrlKey&&Y()},spellCheck:!1,autoComplete:"off",inputProps:{maxLength:1024,tabIndex:2},label:L.t("Module description"),placeholder:L.t("Module description"),error:Boolean(H.description)})}}),H.description&&(0,o.jsx)(d.Z,{sx:{color:"error.main"},children:H.description.message})]})]})]}),F?null:(0,o.jsxs)(p.Z,{children:[(0,o.jsx)(b.Z,{color:"secondary",onClick:J,children:L.t("Cancel")}),(0,o.jsx)(b.Z,{variant:"contained",onClick:Y,startIcon:(0,o.jsx)(M.Z,{}),children:L.t("Create module")})]})]}):null}},86822:function(e,n,t){var r=t(47568),i=t(97582),o=t(85893),a=t(47533),l=t(87536),c=t(20214),s=t(77058),u=t(67294),d=t(74231),f=t(87066),p=t(2734),h=t(56815),m=t(31425),v=t(6514),x=t(37645),g=t(94054),Z=t(15861),b=t(93946),j=t(50135),y=t(23599),C=t(34386),w=t(11057),S=t(50657),k=t(38333),M=t(80822),I=t(60557),R=t(34354),z=t(39748),P=t(42734),_=t(37936),A=t(8377);n.Z=function(e){var n,t,N=e.module,E=e.tooltipPlacement,B=void 0===E?"bottom":E,L=e.propagateModule,X=void 0===L?null:L,D=e.scale,W=void 0===D?1:D,$=e.inactive,O=void 0!==$&&$,F=(0,u.useState)(null),K=F[0],T=F[1],q=(0,s.$)().i18n,U=(0,u.useRef)(null),Q=(0,c.a)(),V=(0,p.Z)(),H=(0,u.useState)(!1),G=H[0],J=H[1],Y={reason:d.Z_().max(512,(function(){return q.t("Must be at most {{n}} characters long",{n:512})}))},ee=(0,l.cI)({defaultValues:{reason:""},mode:"onChange",resolver:(0,a.X)(d.Ry().shape(Y))}),ne=ee.reset,te=ee.control,re=ee.handleSubmit,ie=ee.formState.errors,oe=R.Z,ae=O?V.palette.text.disabled:V.palette.text.primary,le=V.palette.background.paper,ce=q.t("Private module");do{if(N.isPublic){if(ae=V.palette.text.chip,N.isPending){oe=z.Z,le=V.palette.warning.main,ce=q.t("Module listing pending approval");break}if(N.isApproved){oe=I.Z,le=V.palette.info.main,ce=q.t("Module listing approved");break}oe=P.Z,le=V.palette.error.main,ce=q.t("Module listing rejected")}}while(0);var se=function(){T(null)},ue=function(){var e=(0,r.Z)((function(e){var n,t,r,o=arguments;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:"","function"!==typeof X||"string"!==typeof(null===N||void 0===N?void 0:N.id))return[2];J(!1),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,f.Z.put("modules/".concat(N.id,"/review"),{approved:e,reason:n})];case 2:return r=i.sent(),N.id===(null===(t=r.data)||void 0===t?void 0:t.id)&&X(r.data,["isPublic","isPending","isApproved"]),[3,4];case 3:return i.sent(),[3,4];case 4:return ne(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),de=function(){var e=(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return se(),[4,ue(!0)];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){return se(),J(!0),[2]}))}));return function(){return e.apply(this,arguments)}}(),pe=function(){U.current&&U.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))};return(0,o.jsxs)(M.Z,{sx:{position:"relative",display:"flex",alignItems:"center",transform:"scale(".concat(W,")"),transformOrigin:"50%"},children:["founder"===(null===(n=Q.user)||void 0===n?void 0:n.userRole)&&N.isPending&&"function"===typeof X?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(C.Z,{title:q.t("Review module"),children:(0,o.jsx)(b.Z,{color:"warning",sx:{width:"40px",height:"40px",mr:2},onClick:function(e){T(e.currentTarget)},children:(0,o.jsx)(A.Z,{fontSize:"small"})})}),(0,o.jsxs)(k.Z,{anchorEl:K,open:Boolean(K),onClose:se,children:[(0,o.jsxs)(y.Z,{onClick:de,sx:{justifyContent:"space-between"},children:[(0,o.jsx)(_.Z,{fontSize:"small"}),(0,o.jsx)(Z.Z,{sx:{ml:3},variant:"body2",children:q.t("Approve")})]}),(0,o.jsxs)(y.Z,{onClick:fe,children:[(0,o.jsx)(P.Z,{fontSize:"small"}),(0,o.jsx)(Z.Z,{sx:{ml:3},variant:"body2",children:q.t("Reject")})]})]})]}):null,(0,o.jsx)(C.Z,{title:ce,placement:B,children:(0,o.jsx)(M.Z,{sx:{display:"flex",height:"2rem",width:"2rem",justifyContent:"center",alignItems:"center",background:le,borderRadius:"2rem"},children:(0,o.jsx)(oe,{fontSize:"small",sx:{color:ae}})})}),"founder"===(null===(t=Q.user)||void 0===t?void 0:t.userRole)&&G?(0,o.jsxs)(S.Z,{open:!0,onClose:function(){return J(!1)},sx:{"& .MuiPaper-root":{width:"100%",maxWidth:650,p:2}},children:[(0,o.jsx)(x.Z,{children:q.t("Reject module")}),(0,o.jsx)(v.Z,{children:(0,o.jsx)("form",{onSubmit:re(function(){var e=(0,r.Z)((function(e){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return n=e.reason,[4,ue(!1,n)];case 1:return t.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}()),ref:U,children:(0,o.jsxs)(g.Z,{fullWidth:!0,sx:{my:3},error:!!ie.reason,children:[(0,o.jsx)(l.Qr,{name:"reason",control:te,render:function(e){var n=e.field,t=n.value,r=n.onChange;return(0,o.jsx)(j.Z,{multiline:!0,rows:2,value:t,onChange:r,onKeyDown:function(e){return"Enter"===e.key&&e.ctrlKey&&pe()},spellCheck:!1,autoComplete:"off",inputProps:{maxLength:512,tabIndex:2},label:q.t("Rejection reason"),placeholder:q.t("Reason for rejection"),error:Boolean(ie.reason)})}}),ie.reason&&(0,o.jsx)(h.Z,{sx:{color:"error.main"},children:ie.reason.message})]})})}),(0,o.jsxs)(m.Z,{children:[(0,o.jsx)(w.Z,{color:"secondary",onClick:function(){return J(!1)},children:q.t("Cancel")}),(0,o.jsx)(w.Z,{color:"error",onClick:pe,startIcon:(0,o.jsx)(P.Z,{}),children:q.t("Reject module")})]})]}):null]})}},69604:function(e,n,t){t.d(n,{k:function(){return r}});var r=function(e){var n;return"light"==(null===e||void 0===e||null===(n=e.palette)||void 0===n?void 0:n.mode)?"#ddd":"#222"}},76530:function(e,n,t){function r(e){return"".concat(e).charAt(0).toUpperCase()+e.slice(1)}function i(e){var n="".concat(e).replace(/\W+$/g,"").match(/\.(\w+)$/i);return n?n[1].toLowerCase():""}function o(e){return"file://".concat("".concat(e||"").replace(/\\/g,"/"))}function a(e){return"".concat(e).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function l(e,n,t){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=1,o=0,a=n.split("\n"),l=0;l<a.length;l++)if(t.test(a[l])){for(var c=Math.max(l-r,0),s=Math.min(l+r,a.length-1),u=(s+1).toString().length,d="",f=c;f<=s;f++){var p=(f+1).toString().padStart(u," "),h=f===l?">":" ";if(d+="".concat(h," ").concat(p," | ").concat(a[f],"\n"),f===l){var m=a[f].match(t),v=m?a[f].indexOf(m[0]):a[f].length-1;i=f+1,o=v+1,d+="  ".concat(" ".repeat(u)," | ").concat(" ".repeat(v),"^\n")}}return"".concat(e," (").concat(i,":").concat(o,")\n").concat(d)}return e}t.d(n,{N1:function(){return a},RT:function(){return i},o8:function(){return l},qm:function(){return o},zf:function(){return r}})}}]);